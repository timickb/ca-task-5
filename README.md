# Задача об обедающих философах
### Батрутдинов Тимур, группа БПИ206, вариант 4.

Данная программа моделирует поведение пяти людей, сидящих за круглым столом.
Между каждой парой людей лежит по одной вилке (т.е. вилок тоже пять).
В центре стоит тарелка со спагетти, количество которых выражается в условных единицах.
Каждый человек за столом может есть спагетти только двумя вилками, которые
лежат слева и справа от него. Программа завершается, когда всё содержимое
тарелки оказывается съеденным.


По умолчанию в тарелке находится 50 условных единиц спагетти, но это количество
можно задать при запуске программы: `prog -n <количество>`. Разумеется, оно должно быть
положительным.

## Реализация
Модель реализации - Итеративный паралелелизм (каждый поток равноправен и содержит цикл).
Описание этой модели: 
[http://www.williamspublishing.com/PDF/5-8459-0388-2/part.pdf](http://www.williamspublishing.com/PDF/5-8459-0388-2/part.pdf)


Каждый человек за столом представляет собой процедуру, выполняющуюся в отдельном потоке.
Процедура принимает на вход следующие аргументы:
* Идентификатор человека за столом (число от 0 до 4)
* Идентификатор вилки, расположенной слева от человека (число от 0 до 4)
* Идентификатор вилки, расположенной справа от человека (число от 0 до 4)
* Ссылка на счетчик количества условных единиц оставшихся спагетти.

Для того, чтобы контролировать использование ресурсов, коими являются вилки и тарелка со спагетти,
используются двоичные семафоры. 
Если бы в задаче не было ограничения на то, что человек может брать только
вилки, лежащие рядом, то свободные вилки можно было бы представить в виде обычного семафора
(уменьшать его на единицу в момент поднятия вилки со стола и увеличивать на единицу в момент
освобождения вилки).

Каждая вилка сама по себе является двоичным семафором: в момент, как один из людей берет ее со стола,
она "блокируется", и все остальные люди пользоваться ей не могут.

Изменение значение счетчика, передаваемого по ссылке, происходит с использованием мьютекса, чтобы два человека не могли одновременно взять одну и ту же "часть" спагетти.
